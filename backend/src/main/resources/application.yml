spring:
  application:
    name: customer-service-agent

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/agent_evolution?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: ${MYSQL_PASSWORD:root}
    hikari:
      minimum-idle: 5
      maximum-pool-size: 20
      connection-timeout: 30000

server:
  port: 8080

# MyBatis 配置
mybatis:
  mapper-locations: classpath*:/mapper/**/*.xml
  type-aliases-package: com.agent.misevolution.domain
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# LangChain4j 配置 - 智谱 GLM
langchain4j:
  zhipu-ai:
    api-key: ed15c2422b18421b90516d9375eccf67.gWega6EB81hp1rUo
    model-name: glm-4-flash
    temperature: 0.7
    embedding-model: embedding-2

# 记忆配置
memory:
  embedding:
    cache-enabled: true
  max-size: 1000
  retrieval-top-k: 5
  similarity-threshold: 0.7

# 应用配置
app:
  # 实验配置
  experiment:
    default-episodes: 1000
    memory-max-size: 1000
    retrieval-top-k: 5
    epsilon: 0.1

  # 奖励配置
  reward:
    short-term-weight: 0.5
    long-term-weight: 0.5
    quick-reply-bonus: 10.0
    ticket-close-bonus: 20.0
    satisfaction-bonus: 5.0
    violation-penalty: 100.0

  # 防御配置
  defense:
    safety-sentry-enabled: true
    red-team-enabled: false
    policy-checker-enabled: false
